<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Budget Tracker - Track expenses and manage budgets for your home improvement projects">
    <meta name="robots" content="noindex, nofollow">
    
    <title>Budget Tracker - Project Atlas</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üèóÔ∏è</text></svg>">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="atlas-interactive.css">
    
    <style>
        /* Budget page specific styles */
        .budget-main {
            padding: var(--space-xl);
            max-width: 1400px;
            margin: 0 auto;
        }

        .budget-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-xl);
            padding-bottom: var(--space-md);
            border-bottom: 1px solid var(--border-default);
            gap: var(--space-lg);
        }

        .budget-header h2 {
            margin-bottom: 0;
        }

        .budget-controls {
            display: flex;
            gap: var(--space-md);
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-select {
            padding: var(--space-sm) var(--space-md);
            border: 1px solid var(--border-default);
            border-radius: var(--radius-md);
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 0.9375rem;
            font-family: inherit;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .filter-select:hover {
            border-color: var(--border-medium);
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--app-primary);
            box-shadow: 0 0 0 3px var(--app-primary-light);
        }

        /* Budget Overview Cards */
        .budget-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: var(--space-lg);
            margin-bottom: var(--space-2xl);
        }

        .budget-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-default);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            box-shadow: var(--shadow-sm);
            transition: all var(--transition-base);
        }

        .budget-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .budget-card h3 {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: var(--space-md);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .budget-amount {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--space-sm);
        }

        .budget-card.total .budget-amount {
            color: var(--app-primary);
        }

        .budget-card.spent .budget-amount {
            color: var(--status-warning);
        }

        .budget-card.remaining .budget-amount {
            color: var(--status-success);
        }

        .budget-card.projected .budget-amount {
            color: var(--status-info);
        }

        .budget-detail {
            font-size: 0.8125rem;
            color: var(--text-tertiary);
        }

        /* Budget Content Grid */
        .budget-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: var(--space-2xl);
        }

        .budget-projects,
        .recent-expenses {
            background: var(--bg-secondary);
            border: 1px solid var(--border-default);
            border-radius: var(--radius-lg);
            padding: var(--space-xl);
            box-shadow: var(--shadow-sm);
        }

        .budget-projects h3,
        .recent-expenses h3 {
            font-size: 1.125rem;
            margin-bottom: var(--space-lg);
            color: var(--text-primary);
        }

        /* Project Budget Cards */
        .project-budget-card {
            padding: var(--space-lg);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-md);
            margin-bottom: var(--space-lg);
            background: var(--gray-50);
            transition: all var(--transition-fast);
        }

        .project-budget-card:last-child {
            margin-bottom: 0;
        }

        .project-budget-card:hover {
            border-color: var(--app-primary-light);
            background: var(--white);
        }

        .project-budget-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-md);
        }

        .project-budget-header h4 {
            margin: 0;
            color: var(--text-primary);
            font-size: 1rem;
        }

        .budget-status {
            padding: var(--space-xs) var(--space-md);
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.03em;
        }

        .budget-status.over {
            background: var(--status-error-bg);
            color: var(--status-error);
        }

        .budget-status.on-track {
            background: var(--status-success-bg);
            color: var(--status-success);
        }

        .budget-status.warning {
            background: var(--status-warning-bg);
            color: var(--status-warning);
        }

        .project-budget-info {
            margin-bottom: var(--space-md);
        }

        .budget-bar {
            height: 32px;
            background: var(--gray-200);
            border-radius: var(--radius-md);
            overflow: hidden;
            margin-bottom: var(--space-sm);
            display: flex;
        }

        .budget-used {
            height: 100%;
            background: linear-gradient(90deg, var(--app-primary), var(--brand-accent));
            transition: width var(--transition-slow);
        }

        .budget-projected {
            height: 100%;
            background: rgba(33, 150, 243, 0.25);
        }

        .budget-numbers {
            display: flex;
            justify-content: space-between;
            font-size: 0.875rem;
        }

        .budget-numbers .spent {
            color: var(--text-primary);
            font-weight: 600;
        }

        .budget-numbers .total {
            color: var(--text-tertiary);
        }

        /* Project Expenses */
        .project-expenses {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
            padding-top: var(--space-md);
            border-top: 1px solid var(--border-light);
        }

        .expense-item {
            display: flex;
            justify-content: space-between;
            font-size: 0.875rem;
            padding: var(--space-xs) 0;
        }

        .expense-category {
            color: var(--text-secondary);
        }

        .expense-amount {
            color: var(--text-primary);
            font-weight: 600;
        }

        /* Recent Expenses List */
        .expenses-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
        }

        .expense-entry {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-md);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .expense-entry:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
            border-color: var(--app-primary-light);
        }

        .expense-icon {
            width: 44px;
            height: 44px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        .expense-icon.materials {
            background: rgba(33, 150, 243, 0.12);
        }

        .expense-icon.labor {
            background: rgba(255, 152, 0, 0.12);
        }

        .expense-icon.permits {
            background: rgba(76, 175, 80, 0.12);
        }

        .expense-details {
            flex: 1;
            min-width: 0;
        }

        .expense-name {
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: var(--space-xs);
            font-size: 0.9375rem;
        }

        .expense-info {
            display: flex;
            gap: var(--space-md);
            font-size: 0.8125rem;
            color: var(--text-tertiary);
        }

        .expense-project {
            color: var(--app-primary);
            font-weight: 500;
        }

        .expense-cost {
            font-size: 1.0625rem;
            font-weight: 700;
            color: var(--text-primary);
            flex-shrink: 0;
        }

        .load-more {
            text-align: center;
            margin-top: var(--space-md);
            padding: var(--space-md);
            color: var(--app-primary);
            font-weight: 500;
            cursor: pointer;
            border-radius: var(--radius-md);
            transition: all var(--transition-fast);
        }

        .load-more:hover {
            background: var(--app-primary-lighter);
        }

        /* Budget Insights */
        .budget-insights {
            margin-top: var(--space-2xl);
        }

        .budget-insights h3 {
            font-size: 1.125rem;
            margin-bottom: var(--space-lg);
            color: var(--text-primary);
        }

        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-lg);
        }

        .insight-card {
            display: flex;
            gap: var(--space-md);
            padding: var(--space-lg);
            background: var(--bg-secondary);
            border: 1px solid var(--border-default);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            transition: all var(--transition-fast);
        }

        .insight-card:hover {
            box-shadow: var(--shadow-md);
            border-color: var(--app-primary-light);
        }

        .insight-icon {
            font-size: 1.75rem;
            flex-shrink: 0;
        }

        .insight-content {
            flex: 1;
        }

        .insight-content h4 {
            margin: 0 0 var(--space-sm) 0;
            color: var(--text-primary);
            font-size: 1rem;
        }

        .insight-content p {
            margin: 0;
            color: var(--text-secondary);
            font-size: 0.875rem;
            line-height: 1.5;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .budget-content {
                grid-template-columns: 1fr;
            }

            .budget-overview {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .budget-main {
                padding: var(--space-lg);
            }

            .budget-header {
                flex-direction: column;
                align-items: stretch;
            }

            .budget-controls {
                flex-direction: column;
            }

            .filter-select,
            .btn-primary {
                width: 100%;
            }

            .budget-overview {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--space-md);
            }

            .insights-grid {
                grid-template-columns: 1fr;
            }

            .expense-entry {
                flex-wrap: wrap;
            }

            .expense-cost {
                width: 100%;
                text-align: right;
                margin-top: var(--space-xs);
            }
        }

        @media (max-width: 480px) {
            .budget-main {
                padding: var(--space-md);
            }

            .budget-overview {
                grid-template-columns: 1fr;
            }

            .budget-amount {
                font-size: 1.75rem;
            }

            .budget-projects,
            .recent-expenses {
                padding: var(--space-lg);
            }

            .project-budget-card {
                padding: var(--space-md);
            }

            .project-budget-header {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--space-sm);
            }
        }
    </style>
</head>
<body class="app-page">
    <!-- Skip to Main Content -->
    <a href="#main-content" class="skip-to-main">Skip to main content</a>
    
    <!-- Application Header -->
    <header class="app-header">
        <div class="header-container">
            <!-- Logo -->
            <div class="logo">
                <h1>Project <span class="atlas-blue">ATLAS</span></h1>
                <span class="tagline">Home Project Management</span>
            </div>
            
            <!-- Mobile Menu Toggle -->
            <button class="mobile-menu-toggle" 
                    onclick="toggleMobileMenu()" 
                    aria-label="Toggle navigation menu"
                    aria-expanded="false"
                    aria-controls="mainNav">
                <span aria-hidden="true">‚ò∞</span>
            </button>
            
            <!-- Main Navigation -->
            <nav class="main-nav" id="mainNav" aria-label="Main navigation">
                <ul>
                    <li><a href="dashboard.html">Dashboard</a></li>
                    <li><a href="projects.html">Projects</a></li>
                    <li><a href="kanban.html">Kanban Board</a></li>
                    <li><a href="budget.html" class="active" aria-current="page">Budget Tracker</a></li>
                    <li><a href="calendar.html">Calendar</a></li>
                    <li><a href="documents.html">Documents</a></li>
                </ul>
            </nav>
            
            <!-- User Menu -->
            <div class="user-menu">
                <button class="btn btn-secondary" 
                        onclick="showAddExpenseModal()"
                        aria-label="Add new expense">
                    <span aria-hidden="true">+</span> Add Expense
                </button>
                <button class="user-avatar" 
                        onclick="showUserMenu()" 
                        aria-label="User menu"
                        title="User Menu">
                    AF
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="budget-main" id="main-content">
        <!-- Budget Header -->
        <div class="budget-header">
            <h2>Budget Tracker</h2>
            
            <!-- Budget Controls -->
            <div class="budget-controls" role="group" aria-label="Budget controls">
                <label for="projectFilterBudget" class="sr-only">Filter by project</label>
                <select class="filter-select" 
                        id="projectFilterBudget"
                        aria-label="Filter by project"
                        onchange="handleProjectFilter(this.value)">
                    <option value="all">All Projects</option>
                    <option value="kitchen">Kitchen Renovation</option>
                    <option value="basement">Basement Finishing</option>
                    <option value="bathroom">Bathroom Update</option>
                </select>
                
                <label for="timeFilterBudget" class="sr-only">Filter by time period</label>
                <select class="filter-select" 
                        id="timeFilterBudget"
                        aria-label="Filter by time period"
                        onchange="handleTimeFilter(this.value)">
                    <option value="month">This Month</option>
                    <option value="quarter">Last 3 Months</option>
                    <option value="year">This Year</option>
                    <option value="all">All Time</option>
                </select>
                
                <button class="btn btn-primary" 
                        onclick="showBudgetReportModal()"
                        aria-label="Generate budget report">
                    Generate Report
                </button>
            </div>
        </div>

        <!-- Budget Overview -->
        <section class="budget-overview" aria-label="Budget summary">
            <article class="budget-card total">
                <h3>Total Budget</h3>
                <div class="budget-amount" aria-label="Total budget: $75,000">$75,000</div>
                <div class="budget-detail">Across all projects</div>
            </article>
            
            <article class="budget-card spent">
                <h3>Total Spent</h3>
                <div class="budget-amount" aria-label="Total spent: $36,700">$36,700</div>
                <div class="budget-detail">49% of budget used</div>
            </article>
            
            <article class="budget-card remaining">
                <h3>Remaining</h3>
                <div class="budget-amount" aria-label="Remaining budget: $38,300">$38,300</div>
                <div class="budget-detail">51% available</div>
            </article>
            
            <article class="budget-card projected">
                <h3>Projected Total</h3>
                <div class="budget-amount" aria-label="Projected total: $71,200">$71,200</div>
                <div class="budget-detail">Based on current rate</div>
            </article>
        </section>

        <!-- Budget Content Grid -->
        <div class="budget-content">
            <!-- Project Budgets -->
            <section class="budget-projects" aria-labelledby="project-budgets-heading">
                <h3 id="project-budgets-heading">Project Budgets</h3>
                
                <!-- Kitchen Renovation -->
                <article class="project-budget-card" data-project-id="1">
                    <header class="project-budget-header">
                        <h4>Kitchen Renovation Epic</h4>
                        <span class="budget-status over" role="status">$600 over</span>
                    </header>
                    
                    <div class="project-budget-info">
                        <div class="budget-bar" 
                             role="meter" 
                             aria-label="Budget usage: 84% used, 4% projected"
                             aria-valuemin="0" 
                             aria-valuemax="100" 
                             aria-valuenow="88">
                            <div class="budget-used" style="width: 84%"></div>
                            <div class="budget-projected" style="width: 4%"></div>
                        </div>
                        <div class="budget-numbers">
                            <span class="spent">$23,400 spent</span>
                            <span class="total">/ $28,000 budget</span>
                        </div>
                    </div>
                    
                    <div class="project-expenses">
                        <div class="expense-item">
                            <span class="expense-category">Materials</span>
                            <span class="expense-amount">$18,200</span>
                        </div>
                        <div class="expense-item">
                            <span class="expense-category">Labor</span>
                            <span class="expense-amount">$4,800</span>
                        </div>
                        <div class="expense-item">
                            <span class="expense-category">Permits</span>
                            <span class="expense-amount">$400</span>
                        </div>
                    </div>
                </article>

                <!-- Basement Finishing -->
                <article class="project-budget-card" data-project-id="2">
                    <header class="project-budget-header">
                        <h4>Basement Finishing Epic</h4>
                        <span class="budget-status on-track" role="status">On track</span>
                    </header>
                    
                    <div class="project-budget-info">
                        <div class="budget-bar" 
                             role="meter" 
                             aria-label="Budget usage: 15% used, 75% projected"
                             aria-valuemin="0" 
                             aria-valuemax="100" 
                             aria-valuenow="90">
                            <div class="budget-used" style="width: 15%"></div>
                            <div class="budget-projected" style="width: 75%"></div>
                        </div>
                        <div class="budget-numbers">
                            <span class="spent">$5,200 spent</span>
                            <span class="total">/ $35,000 budget</span>
                        </div>
                    </div>
                    
                    <div class="project-expenses">
                        <div class="expense-item">
                            <span class="expense-category">Planning & Permits</span>
                            <span class="expense-amount">$1,200</span>
                        </div>
                        <div class="expense-item">
                            <span class="expense-category">Materials (partial)</span>
                            <span class="expense-amount">$4,000</span>
                        </div>
                    </div>
                </article>

                <!-- Bathroom Update -->
                <article class="project-budget-card" data-project-id="3">
                    <header class="project-budget-header">
                        <h4>Bathroom Update Epic</h4>
                        <span class="budget-status on-track" role="status">On track</span>
                    </header>
                    
                    <div class="project-budget-info">
                        <div class="budget-bar" 
                             role="meter" 
                             aria-label="Budget usage: 68% used, 22% projected"
                             aria-valuemin="0" 
                             aria-valuemax="100" 
                             aria-valuenow="90">
                            <div class="budget-used" style="width: 68%"></div>
                            <div class="budget-projected" style="width: 22%"></div>
                        </div>
                        <div class="budget-numbers">
                            <span class="spent">$8,100 spent</span>
                            <span class="total">/ $12,000 budget</span>
                        </div>
                    </div>
                    
                    <div class="project-expenses">
                        <div class="expense-item">
                            <span class="expense-category">Fixtures</span>
                            <span class="expense-amount">$3,200</span>
                        </div>
                        <div class="expense-item">
                            <span class="expense-category">Plumbing</span>
                            <span class="expense-amount">$2,800</span>
                        </div>
                        <div class="expense-item">
                            <span class="expense-category">Materials</span>
                            <span class="expense-amount">$2,100</span>
                        </div>
                    </div>
                </article>
            </section>

            <!-- Recent Expenses -->
            <aside class="recent-expenses" aria-labelledby="recent-expenses-heading">
                <h3 id="recent-expenses-heading">Recent Expenses</h3>
                
                <div class="expenses-list">
                    <article class="expense-entry" 
                             role="button" 
                             tabindex="0"
                             onclick="showExpenseDetail('exp-1')"
                             onkeypress="handleKeyPress(event, 'showExpenseDetail', 'exp-1')"
                             data-expense-id="exp-1">
                        <div class="expense-icon materials" aria-hidden="true">
                            <span>üß±</span>
                        </div>
                        <div class="expense-details">
                            <div class="expense-name">Tile grout and spacers</div>
                            <div class="expense-info">
                                <span class="expense-project">Kitchen Renovation</span>
                                <time class="expense-date" datetime="2025-10-12T20:00:00">2 hours ago</time>
                            </div>
                        </div>
                        <div class="expense-cost">$127.43</div>
                    </article>

                    <article class="expense-entry" 
                             role="button" 
                             tabindex="0"
                             onclick="showExpenseDetail('exp-2')"
                             onkeypress="handleKeyPress(event, 'showExpenseDetail', 'exp-2')"
                             data-expense-id="exp-2">
                        <div class="expense-icon materials" aria-hidden="true">
                            <span>üîß</span>
                        </div>
                        <div class="expense-details">
                            <div class="expense-name">Cabinet hardware and hinges</div>
                            <div class="expense-info">
                                <span class="expense-project">Kitchen Renovation</span>
                                <time class="expense-date" datetime="2025-10-11">Yesterday</time>
                            </div>
                        </div>
                        <div class="expense-cost">$324.67</div>
                    </article>

                    <article class="expense-entry" 
                             role="button" 
                             tabindex="0"
                             onclick="showExpenseDetail('exp-3')"
                             onkeypress="handleKeyPress(event, 'showExpenseDetail', 'exp-3')"
                             data-expense-id="exp-3">
                        <div class="expense-icon labor" aria-hidden="true">
                            <span>üë∑</span>
                        </div>
                        <div class="expense-details">
                            <div class="expense-name">Electrician - rough-in work</div>
                            <div class="expense-info">
                                <span class="expense-project">Basement Finishing</span>
                                <time class="expense-date" datetime="2025-10-09">3 days ago</time>
                            </div>
                        </div>
                        <div class="expense-cost">$1,200.00</div>
                    </article>

                    <article class="expense-entry" 
                             role="button" 
                             tabindex="0"
                             onclick="showExpenseDetail('exp-4')"
                             onkeypress="handleKeyPress(event, 'showExpenseDetail', 'exp-4')"
                             data-expense-id="exp-4">
                        <div class="expense-icon labor" aria-hidden="true">
                            <span>üèóÔ∏è</span>
                        </div>
                        <div class="expense-details">
                            <div class="expense-name">Countertop installation</div>
                            <div class="expense-info">
                                <span class="expense-project">Kitchen Renovation</span>
                                <time class="expense-date" datetime="2025-10-07">5 days ago</time>
                            </div>
                        </div>
                        <div class="expense-cost">$3,800.00</div>
                    </article>

                    <article class="expense-entry" 
                             role="button" 
                             tabindex="0"
                             onclick="showExpenseDetail('exp-5')"
                             onkeypress="handleKeyPress(event, 'showExpenseDetail', 'exp-5')"
                             data-expense-id="exp-5">
                        <div class="expense-icon permits" aria-hidden="true">
                            <span>üìã</span>
                        </div>
                        <div class="expense-details">
                            <div class="expense-name">Building permit renewal</div>
                            <div class="expense-info">
                                <span class="expense-project">Bathroom Update</span>
                                <time class="expense-date" datetime="2025-10-05">1 week ago</time>
                            </div>
                        </div>
                        <div class="expense-cost">$200.00</div>
                    </article>
                </div>
                
                <div class="load-more" 
                     role="button" 
                     tabindex="0"
                     onclick="showLoadMore()"
                     onkeypress="handleKeyPress(event, 'showLoadMore')">
                    Load More Expenses
                </div>
            </aside>
        </div>

        <!-- Budget Insights -->
        <section class="budget-insights" aria-labelledby="insights-heading">
            <h3 id="insights-heading">Budget Insights</h3>
            
            <div class="insights-grid">
                <article class="insight-card">
                    <div class="insight-icon" aria-hidden="true">üí°</div>
                    <div class="insight-content">
                        <h4>Spending Trend</h4>
                        <p>Your spending has increased 15% this month compared to last month. Consider reviewing high-cost items.</p>
                    </div>
                </article>

                <article class="insight-card">
                    <div class="insight-icon" aria-hidden="true">‚ö†Ô∏è</div>
                    <div class="insight-content">
                        <h4>Budget Alert</h4>
                        <p>Kitchen Renovation is $600 over budget. You may want to adjust remaining expenses or increase the budget.</p>
                    </div>
                </article>

                <article class="insight-card">
                    <div class="insight-icon" aria-hidden="true">üìä</div>
                    <div class="insight-content">
                        <h4>Forecast</h4>
                        <p>At your current spending rate, you'll finish under budget by approximately $3,800 across all projects.</p>
                    </div>
                </article>
            </div>
        </section>
    </main>

    <!-- Scripts -->
    <script>
        // Mobile menu toggle with accessibility
        function toggleMobileMenu() {
            const nav = document.getElementById('mainNav');
            const toggle = document.querySelector('.mobile-menu-toggle');
            const isExpanded = nav.classList.toggle('active');
            
            // Update ARIA attribute
            toggle.setAttribute('aria-expanded', isExpanded);
        }
        
        // Keyboard accessibility helper
        function handleKeyPress(event, functionName, id) {
            if (event.key === 'Enter' || event.key === ' ') {
                event.preventDefault();
                if (id) {
                    window[functionName](id);
                } else {
                    window[functionName]();
                }
            }
        }
        
        // Filter handlers
        function handleProjectFilter(value) {
            console.log('Filter by project:', value);
            if (window.atlas && typeof window.atlas.filterBudgetByProject === 'function') {
                window.atlas.filterBudgetByProject(value);
            }
        }
        
        function handleTimeFilter(value) {
            console.log('Filter by time:', value);
            if (window.atlas && typeof window.atlas.filterBudgetByTime === 'function') {
                window.atlas.filterBudgetByTime(value);
            }
        }
        
        // Modal functions
        function showAddExpenseModal() {
            console.log('Show add expense modal');
            alert('üí∞ Add New Expense\n\nForm fields:\n‚Ä¢ Description\n‚Ä¢ Amount and date\n‚Ä¢ Project\n‚Ä¢ Category (materials/labor/permits)\n‚Ä¢ Receipt upload\n‚Ä¢ Notes\n\nComing soon!');
        }

        function showBudgetReportModal() {
            console.log('Show budget report modal');
            alert('üìä Generate Budget Report\n\nReport options:\n‚Ä¢ Expense breakdown by project\n‚Ä¢ Cost comparisons\n‚Ä¢ Spending trends\n‚Ä¢ Budget forecasting\n‚Ä¢ Export to PDF/Excel\n\nComing soon!');
        }

        function showExpenseDetail(expenseId) {
            console.log('Show expense detail:', expenseId);
            alert('üìã Expense Details\n\nView:\n‚Ä¢ Full expense information\n‚Ä¢ Receipt/invoice images\n‚Ä¢ Project assignment\n‚Ä¢ Edit/delete options\n‚Ä¢ Related expenses\n\nComing soon!');
        }

        function showLoadMore() {
            console.log('Load more expenses');
            alert('üìÑ Load More Expenses\n\nThis will load additional expense entries.\n\nComing soon!');
        }
        
        function showUserMenu() {
            console.log('Show user menu');
            // Implementation in atlas-interactive.js
        }
        
        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            const nav = document.getElementById('mainNav');
            const toggle = document.querySelector('.mobile-menu-toggle');
            
            if (nav.classList.contains('active') && 
                !nav.contains(event.target) && 
                !toggle.contains(event.target)) {
                toggleMobileMenu();
            }
        });
        
        // Close mobile menu on escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const nav = document.getElementById('mainNav');
                if (nav.classList.contains('active')) {
                    toggleMobileMenu();
                }
            }
        });
    </script>
    
    <!-- Main Interactive Script -->
    <script src="atlas-interactive.js"></script>
</body>
</html>
